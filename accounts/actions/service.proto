syntax = "proto3";

package actions;

option go_package = "github.com/prosperofair/proto/accountactions";

message SubscribeRequest {
  int64 account_id = 1;
}


message Action {
  int64 id = 1;
  int32 to_account_id = 2;

  string type = 3;
  string payload = 4;
  string status = 5;

  string error_message = 6;

  int64 created_at = 7; // unix nano
  int64 updated_at = 8; // unix nano
}

service ActionService {
  rpc Subscribe(SubscribeRequest) returns (stream Action);
}
