syntax = "proto3";

package service;

import "account/event.proto";

option go_package = "github.com/thexmartin/proto/account;service";

// Request to push one or multiple events
message PushEventsRequest {
  repeated events.TelegramEvent events = 1;
}

// Response for push (empty ack)
message PushEventsResponse {}

// Request to subscribe to events
message SubscribeEventsRequest {}

// Server stream of events
message EventStreamResponse {
  events.TelegramEvent event = 1;
}

service AccountService {
  // Push one or more events to the account service
  rpc PushEvents(PushEventsRequest) returns (PushEventsResponse);

  // Subscribe to events in real-time
  rpc SubscribeEvents(SubscribeEventsRequest) returns (stream EventStreamResponse);
}
